import{d as w,i as o,c as s,g as p,w as k,B as N,t as L,n as $,W as m,F as d,ah as g,f as y,N as b,a7 as _,a5 as S,S as f}from"./DuHVEhmd.js";const T={key:0},C=w({__name:"TocChildrenItem",props:{content:{}},setup(r){return(t,i)=>{const e=b;return o(),s(d,null,[p(e,{class:$((t._.provides[m]||t.$route).path===t.content.item.path?"!font-black":(t._.provides[m]||t.$route).path.startsWith(t.content.item.path)?"!font-bold":void 0),to:{path:t.content.item.path}},{default:k(()=>[N(L(t.content.item.title),1)]),_:1},8,["class","to"]),t.content.children.length?(o(),s("ol",T,[(o(!0),s(d,null,g(t.content.children,n=>(o(),s("li",{key:n.item.id},[p(C,{content:n},null,8,["content"])]))),128))])):y("",!0)],64)}}});let v;const E=async()=>v??(v=await I()),I=async()=>{const r=new Map,t=async e=>{const n=[],u=e?await _("content").where("path","<>",e.item.path).where("path","LIKE",`${e.item.path}/%`).where("path","NOT LIKE",`${e.item.path}/%/%`).all():await _("content").where("path","NOT LIKE","/_%/%").all();if(u.length===0)return[];let c,l=0;for(const h of u){const a={index:l++,item:h,prev:c,parent:e};a.children=await t(a),c&&(c.next=a),c=a,r.set(a.item.path,a),n.push(a)}return n};return{root:await t(),map:r}},B={class:""},V=w({__name:"TocChildren",props:{path:{default:"/blog"}},async setup(r){let t,i;const n=([t,i]=S(()=>E()),t=await t,i(),t).map.get(r.path).children;return(u,c)=>{var l;return o(),s("ol",B,[(l=f(n))!=null&&l.length?(o(!0),s(d,{key:0},g(f(n),h=>(o(),s("li",{class:"first:mt-0 last:mb-0",key:h.item.id},[p(C,{content:h},null,8,["content"])]))),128)):y("",!0)])}}});export{V as _,E as g};
