import{d as m,r as u,o as v,I as T,s as _,i,R as d,w as h,e as g,g as y,S as c,aa as L,a5 as $,ab as P,c as f,B as A,t as E,f as b,N as G,ac as I,E as D,ad as U,U as O,F,a7 as H}from"./BytH8SZ9.js";function M(n){if(document.querySelector(`script[src="${n}"]`))return;const t=document.createElement("script");t.src=n,t.async=!0,t.type="module",document.head.appendChild(t)}function j(n,t){for(const[o,e]of Object.entries(t))e!=null&&n.setAttribute(o,e.toString())}const B=["loaded","comment:published","comment:edited","comment:deleted","comment:voted","comment:flagged","reaction","rating","auth:login:clicked","profile:clicked"];class S{static script(t){t=t||"https://talk.hyvor.com",M(`${t}/embed/embed.js`)}static comments(t,o,e){S.script(t.instance);const a=document.createElement("hyvor-talk-comments");for(let[r,s]of Object.entries(t))if(s!=null){if(r==="translations"&&typeof s=="object"){for(let[l,x]of Object.entries(s))l=l.replace("_","-"),a.setAttribute(`t-${l}`,x);continue}r==="settings"&&(s=JSON.stringify(s)),a.setAttribute(r,s)}return e&&B.forEach(r=>{a.addEventListener(r,s=>{e(r,s.detail)})}),o.appendChild(a),a}}const V="https://talk.hyvor.com";class C{static script(t){t=t||V,M(`${t}/embed/comment-counts.js`)}static commentCount(t,o){C.script(t.instance);const e=document.createElement("hyvor-talk-comment-count");return j(e,t),o.appendChild(e),e}static load(t={},o=null){C.script(),customElements.whenDefined("hyvor-talk-comment-count").then(()=>{window.hyvorTalkCommentCounts.load(t,o)})}}function R(n){const t={};for(const o in n){const e=o.replace(/([a-z0-9]|(?=[A-Z0-9]))([A-Z0-9])/g,"$1-$2").toLowerCase();t[e]=n[o]}return t}const k={comments:["websiteId","pageId","pageUrl","pageTitle","pageLanguage","pageAuthor","ssoUser","ssoHash","colors","loading","instance","settings","translations","tReactionsText","tRatingsText","tRatings1","tRatingsMulti","tLogin","tLoginToContinue","tPageClosed","tLoginToComment","tNoCommentsText","tComments0","tComments1","tCommentsMulti","tOnline","tNotifications","tNotificationsNo","tNotificationsRead","tNotificationsReply","tNotificationsMention","tNotificationsLoadMore","tTop","tNewest","tOldest","tJustNow","tAgoSeconds","tAgoDay","tAgoDays","tAgoHour","tAgoHours","tAgoMinute","tAgoMinutes","tAgoYear","tAgoYears","tFeatured","tPending","tDeleted","tLovedBy","tTeam","tAuthor","tEdited","tModerate","tSpam","tFeature","tUnfeature","tLove","tUnlove","tShowMore","tShowLess","tExpandComment","tExpandComments","tLoadMoreComments","tLoadMore","tMoreReplies","tHiddenComment","tReply","tReplyingWithCount","tGuest","tGuests","tShowNewComment","tShowNewComments","tShowNewReply","tShowNewReplies","tShowAllComments","tShowParentComment","tGuestName","tGuestEmail","tGuestNameFill","tGuestEmailRequired","tGuestEmailInvalid","tCommentCharLimit","tCommentBoxText","tReplyBoxText","tGuestVote","tAsGuest","tCommentButtonText","tReplyButtonText","tEdit","tDelete","tDeleteConfirm","tCancel","tSearch","tSearchComments","tSearchBack","tSearchType","tFlag","tUnflag","tFlagComment","tFlagReason","tOptional","tBanned","tComments","tSettings","tSettingsForWebsite","tBlocked","tUnblocked","tReplyEmails","tMentionEmails","tSaved","tNoResults","tPoweredBy","tUploadImage","tOr","tPasteUrl","tAdd","tLink","tEmbed","tCopyLink","tLinkCopied","tBlock","tBlockButton","tUnblock","tAccountLogout","tAccountMy","tDefaultError"],"comment-count":["pageId","websiteId","mode","language","loading","instance"],memberships:["websiteId","instance","ssoUser","ssoHash","language","colors","tButtonSubscribe","tModalTitle","tModalTitleMembers","tMonthly","tYearly","tMonthPer","tYearPer","tSavePercent","tSubscribeAs","tLoginToSubscribe","tManageSubscription","tSwitchTo","tSwitchButton","tCurrentPlan","tLoggedInAs","tManageAccount","tLogout","tWillCancel","tPastDue","tSwitched","tPaymentVerifying","tPaymentSuccess","tPaymentFailed","tPaymentThankYou","tDefaultGateTitle","tDefaultGateContent","tContinue","tCancel","tClose"],"gated-content":["key","secure","defaultGateTitle","defaultGateContent"],newsletter:["websiteId","instance","title","description","language","ssoUser","ssoHash","colors","tEmail","tButtonSubscribe","tButtonSubscribed","tButtonSave","tSuccess"]},q=m((n,{emit:t,expose:o})=>{const e=u(null),a=u(null);return v(()=>{e.value&&(a.value=S.comments(R(n),e.value,(r,s)=>{t(r,s)}))}),o({wrap:()=>e.value,element:()=>a.value}),()=>T("div",{class:"ht-comments-wrap",ref:e})},{props:k.comments,emits:B}),Y=m(n=>{const t=u(null),o=u(null);return v(()=>{t.value&&(o.value=C.commentCount(R(n),t.value))}),()=>T("span",{class:"ht-comment-count-wrap",ref:t})},{props:k["comment-count"]});let w=k["gated-content"];w=w.filter(n=>n!=="key");w.push("_key");function W(n){if(document.querySelector(`script[src="${n}"]`))return;const t=document.createElement("script");t.src=n,t.async=!0,t.type="module",document.head.appendChild(t)}function J(n,t){for(const[o,e]of Object.entries(t))e!=null&&n.setAttribute(o,e.toString())}const Z="https://talk.hyvor.com";class p{static script(t){t=t||Z,W(`${t}/embed/comment-counts.js`)}static commentCount(t,o){p.script(t.instance);const e=document.createElement("hyvor-talk-comment-count");return J(e,t),o.appendChild(e),e}static load(t={},o=null){p.script(),customElements.whenDefined("hyvor-talk-comment-count").then(()=>{window.hyvorTalkCommentCounts.load(t,o)})}}const z={href:"#hyvorComments"},K=m({__name:"HyvorCommentCount",setup(n){const t=_();return v(()=>{p.load({"website-id":12602})}),(o,e)=>{const a=L;return i(),d(a,null,{default:h(()=>[g("a",z,[y(c(Y),{"page-id":c(t).path},null,8,["page-id"])])]),_:1})}}}),Q={class:"flex justify-between font-semibold my-4"},X={key:1},tt=m({__name:"PrevNext",async setup(n){let t,o;const e=_(),a=([t,o]=$(()=>P("content",e.path)),t=await t,o(),t),[r,s]=a;return(l,x)=>{const N=G;return i(),f("nav",Q,[c(r)?(i(),d(N,{key:0,to:c(r).path},{default:h(()=>[A("< "+E(c(r).title),1)]),_:1},8,["to"])):(i(),f("div",X)),c(s)?(i(),d(N,{key:2,to:c(s).path},{default:h(()=>[A(E(c(s).title)+" >",1)]),_:1},8,["to"])):b("",!0)])}}}),et={id:"hyvorComments"},ot=m({__name:"HyvorComments",setup(n){const t=_(),o=I(),e=D(()=>o.value),a=()=>{p.load({"website-id":12602})};return(r,s)=>{const l=L;return i(),d(l,null,{default:h(()=>[g("div",et,[y(c(q),{"onComment:deleted":a,"onComment:published":a,"website-id":12602,"page-id":c(t).path,colors:c(e)},null,8,["page-id","colors"])])]),_:1})}}}),nt={class:"max-w-2xl px-4 py-10 m-auto bg-white sm:px-8 sm:shadow dark:bg-gray-800 ring-1 ring-gray-200 dark:ring-gray-700 sm:rounded-lg"},st={class:"max-w-none prose dark:prose-invert prose-pre:bg-gray-100 dark:prose-pre:bg-gray-900 hover:prose-a:text-primary-400 prose-a:font-normal prose-a:no-underline prose-a:border-dashed prose-a:border-b hover:prose-a:border-solid hover:prose-a:border-primary-400"},at={key:0,class:"max-w-2xl mt-2 m-auto"},ct=m({__name:"default",setup(n){const t=_(),o=u(!1);return U(async()=>{const e=await H("content").path(t.path).first();o.value=(e==null?void 0:e.disableComments)??!1}),(e,a)=>{const r=K,s=tt,l=ot;return i(),f(F,null,[g("div",nt,[g("main",st,[c(o)?b("",!0):(i(),d(r,{key:0})),O(e.$slots,"default")]),y(s)]),c(o)?b("",!0):(i(),f("div",at,[y(l)]))],64)}}});export{ct as default};
