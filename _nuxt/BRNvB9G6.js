import{d as m,i as n,c as o,g as r,w as y,B as C,t as g,F as l,ah as u,f as d,C as w,a5 as x,S as _,a7 as b}from"./P2-gTY0T.js";const k={key:0,class:"my-0 flex flex-col"},p=m({__name:"TocChildrenItem",props:{content:{}},setup(c){return(t,s)=>{const e=w;return n(),o(l,null,[r(e,{class:"","active-class":"font-bold before:content-['>'] before:mr-2","exact-active-class":"font-black",to:{path:t.content.item.path}},{default:y(()=>[C(g(t.content.item.title),1)]),_:1},8,["to"]),t.content.children.length?(n(),o("ol",k,[(n(!0),o(l,null,u(t.content.children,a=>(n(),o("li",{key:a.item.id,class:"my-0"},[r(p,{content:a},null,8,["content"])]))),128))])):d("",!0)],64)}}}),v={class:"text-sm leading-7"},f=async c=>{const t=await b("content").where("path","<>",c).where("path","LIKE",`${c}/%`).where("path","NOT LIKE",`${c}/%/%`).all();if(t.length===0)return[];const s=[];for(const e of t){const a=await f(e.path);s.push({children:a,item:e})}return s},T=m({__name:"TocChildren",async setup(c){let t,s;const e=([t,s]=x(()=>f("/blog")),t=await t,s(),t);return(a,N)=>{var i;return n(),o("nav",v,[(i=_(e))!=null&&i.length?(n(!0),o(l,{key:0},u(_(e),h=>(n(),o("div",{class:"[&>a]:font-bold my-2 first:mt-0 last:mb-0",key:h.item.id},[r(p,{content:h},null,8,["content"])]))),128)):d("",!0)])}}});export{T as _};
