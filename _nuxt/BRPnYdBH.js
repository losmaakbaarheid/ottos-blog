import{g as h,_ as m}from"./9Hx_6ICM.js";import{d,s as f,E as v,r as x,I as e,N as u}from"./C_JwC102.js";const C=d({name:"TocGroup",props:{path:String,rootPath:{type:String,default:"/blog"},maxSiblings:{type:Number,default:6}},async setup(i){const l=f(),r=v(()=>i.path??l.path),a=(await h()).map.get(r.value),n=x(!1);return()=>{if(n.value)return[e(m),e("button",{type:"button",onClick:()=>n.value=!n.value,class:"underline font-black"},"show less")];const t=()=>c(a,i.maxSiblings).vnode,p=e("button",{type:"button",onClick:()=>n.value=!n.value,class:"underline font-black"},"show all");return a.parent&&a.parent.item.path!==i.rootPath?[b(a,i.rootPath,t),p]:[e("ul",t),p]}}});function b(i,l,r){let o=i.parent;const a=[];for(;o&&o.item.path!==l;){const n=[],t=o;t.prev&&(t.prev.prev&&n.push(e("li",{"aria-hidden":"true"},"...")),n.push(e("li",{value:t.prev.index+1},e(u,{to:t.prev.item.path},()=>t.prev.item.title)))),n.push(e("li",{value:t.index+1},[e(u,{to:t.item.path,class:"!font-bold"},()=>t.item.title),t===i.parent?r():void 0])),t.next&&(n.push(e("li",{value:t.next.index+1},e(u,{to:t.next.item.path},()=>t.next.item.title))),t.next.next&&n.push(e("li",{"aria-hidden":"true"},"..."))),a.unshift(e("ol",n)),o=o.parent}return a}function c(i,l){var p;let r=i.prev,o=i.next;const a=(p=i.children)!=null&&p.length?c(i.children[0],l):null;let n=(a==null?void 0:a.items)??0;const t=[e("li",[e(u,{to:i.item.path,class:"!font-black"},()=>i.item.title),a==null?void 0:a.vnode])];for(;n<l&&(r||o);){if(r){const s=r;t.unshift(e("li",e(u,{to:s.item.path},()=>s.item.title))),r=s.prev,n++}if(o&&n<l){const s=o;t.push(e("li",e(u,{to:s.item.path},()=>s.item.title))),o=s.next,n++}}return{vnode:e("ol",t),items:t.length}}export{C as default};
