import{g as c,_ as f}from"./ZwWLFdrL.js";import{d as m,s as v,E as x,r as b,I as e,N as s}from"./CElAwW2q.js";const w=m({name:"TocGroup",props:{path:String,rootPath:{type:String,default:"/blog"},maxSiblings:{type:Number,default:6}},async setup(i){const o=v(),p=x(()=>i.path??o.path),a=(await c()).map.get(p.value),n=b(!1);return()=>{if(n.value)return[e(f),e("button",{type:"button",onClick:()=>n.value=!n.value,class:"underline font-black"},"show less")];const t=()=>d(a,i.maxSiblings,!0).vnode,u=e("button",{type:"button",onClick:()=>n.value=!n.value,class:"underline font-black"},"show all");return a.parent&&a.parent.item.path!==i.rootPath?[g(a,i.rootPath,t),u]:[e("ul",t()),u]}}});function g(i,o,p){let r=i.parent;const a=[];for(;r&&r.item.path!==o;){const n=[],t=r;t.prev&&(t.prev.prev&&n.push(e("li",{"aria-hidden":"true"},"...")),n.push(e("li",{value:t.prev.index+1},e(s,{to:t.prev.item.path},()=>t.prev.item.title)))),n.push(e("li",{value:t.index+1},[e(s,{to:t.item.path,class:"!font-bold"},()=>t.item.title),t===i.parent?p():void 0])),t.next&&(n.push(e("li",{value:t.next.index+1},e(s,{to:t.next.item.path},()=>t.next.item.title))),t.next.next&&n.push(e("li",{"aria-hidden":"true"},"..."))),a.unshift(e("ol",n)),r=r.parent}return a}function d(i,o,p){var h;let r=i.prev,a=i.next;const n=(h=i.children)!=null&&h.length?d(i.children[0],o,!1):null;let t=(n==null?void 0:n.items)??0;const u=[e("li",[e(s,{to:i.item.path,class:p?"!font-black":void 0},()=>i.item.title),n==null?void 0:n.vnode])];for(;t<o&&(r||a);){if(r){const l=r;u.unshift(e("li",{value:l.index+1},e(s,{to:l.item.path},()=>l.item.title))),r=l.prev,t++}if(a&&t<o){const l=a;u.push(e("li",{value:l.index+1},e(s,{to:l.item.path},()=>l.item.title))),a=l.next,t++}}return r&&u.unshift(e("li",{"aria-hidden":!0},"...")),a&&u.push(e("li",{"aria-hidden":!0},"...")),{vnode:e("ol",u),items:u.length}}export{w as default};
